<div class="recruitment-overview">
  <aside class="filters">
    <h3>Filtruj</h3>
    <ul>
      <li (click)="toggleFilterOptions('jobCategory')" [class.active]="activeFilters.jobCategory">Dzia≈Ç</li>
      <ul *ngIf="showFilterOptions.jobCategory">
        <li *ngFor="let category of uniqueJobCategories"
            (click)="applyFilter('jobCategory', category)"
            [class.active]="activeFilters.jobCategory === category">
          {{ category }}
        </li>
      </ul>

      <li (click)="toggleFilterOptions('location')" [class.active]="activeFilters.location">Lokalizacja</li>
      <ul *ngIf="showFilterOptions.location">
        <li *ngFor="let location of uniqueLocations"
            (click)="applyFilter('location', location)"
            [class.active]="activeFilters.location === location">
          {{ location }}
        </li>
      </ul>

      <li (click)="toggleFilterOptions('workType')" [class.active]="activeFilters.workType">Rodzaj pracy</li>
      <ul *ngIf="showFilterOptions.workType">
        <li *ngFor="let type of uniqueWorkTypes"
            (click)="applyFilter('workType', type)"
            [class.active]="activeFilters.workType === type">
          {{ mapWorkType(type) }}
        </li>
      </ul>
    </ul>
    <button (click)="resetFilters()" class="reset-button">Resetuj filtry</button>
  </aside>

  <section class="recruitment-list">
    <div class="header">
      <h1>Moje rekrutacje</h1>
      <input type="text" placeholder="Szukaj rekrutacji..." (input)="onSearch($event)">
    </div>

    <ul>
      <li *ngFor="let recruitment of filteredRecruitments"
          class="recruitment-item"
          (click)="goToRecruitment(recruitment.offerCode)">
        <div class="recruitment-info">
          <h3>{{ recruitment.title }}</h3>
          <p>{{ recruitment.location }}</p>
        </div>
        <div class="recruitment-stats">
          <span>Nowi kandydaci: {{ recruitment.newApplications }}</span>
          <span>Wszyscy kandydaci: {{ recruitment.totalApplications }}</span>
        </div>
      </li>
    </ul>
  </section>
</div>
